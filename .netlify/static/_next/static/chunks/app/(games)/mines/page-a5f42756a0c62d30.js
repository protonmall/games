(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[684],{2328:(e,t,s)=>{"use strict";s.d(t,{J:()=>l});let l=(0,s(8693).vt)()((e,t)=>({numberOfMines:1,gameStarted:!1,betAmount:0,isGameSetup:!1,setGameStarted:t=>e({gameStarted:t}),setIsGameSetup:t=>e({isGameSetup:t}),setNumberOfMines:t=>e({numberOfMines:t}),setBetAmount:t=>e({betAmount:t}),handleSetupGame:()=>{let{numberOfMines:s,betAmount:l}=t();e({isGameSetup:!0})},resetGame:()=>e({isGameSetup:!1,numberOfMines:1,gameStarted:!1}),clearConfigStore:()=>e({isGameSetup:!1})}))},2748:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var l=s(5155),a=s(2328),n=s(3386),r=s(2115);let i=(0,s(9946).A)("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);var d=s(6989),c=s(8261),o=s(6280);function u(){let{selectedGrid:e,handleSelectGrid:t,setSelectedGrid:s,numberOfSuccessfulClicks:u,setNumberOfSuccessfulClicks:m}=(0,n.H)(),{numberOfMines:x,isGameSetup:f,setNumberOfMines:h,betAmount:b,resetGame:v,clearConfigStore:p}=(0,a.J)(),{balance:j}=(0,d.u)(),[g,w]=(0,r.useState)([]),[N,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f&&(s({}),w((()=>{let e=new Set;for(;e.size<x;)e.add(Math.floor(25*Math.random()));return Array.from(e)})()))},[x,f,s]);let k=s=>{f&&(g.includes(s)?(t(s),new Audio("/assets/audio/mine-audio.mp3").play(),y(!0),h(1),m(0),p(),v(),(0,c.d)((0,l.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,l.jsx)(i,{size:20}),"Mines"]}),"Loss",-b,j<100?(0,l.jsx)("div",{className:"text-green-500",children:"1000 (Restored)"}):j)):e[s]||(t(s),m(u+1),new Audio("/assets/audio/win-audio.mp3").play()))};return(0,l.jsxs)("div",{className:"grid grid-cols-5 gap-3 w-full max-w-xl mx-auto",children:[Array.from({length:25}).map((t,s)=>(0,l.jsx)("div",{className:"aspect-square w-full min-h-18 flex justify-center items-center transition-all rounded-md duration-500 ".concat(e[s]?g.includes(s)?"border-red-500 text-white animate-shake bg-[#071924] scale-95":"border-green-500 text-white animate-pop bg-[#071924] scale-95":"bg-[#2f4553] hover:scale-105 active:scale-95 active:bg-[#071924]"),onClick:()=>k(s),children:(e[s]||N)&&(0,l.jsx)(l.Fragment,{children:g.includes(s)?(0,l.jsx)("div",{className:"relative flex p-2 items-center justify-center w-full h-full bg-primary text-white font-bold rounded-md",children:(0,l.jsx)("img",{src:"/assets/mine.svg",alt:"bomb",className:"w-4/5 h-4/5 animate-fade-in"})}):(0,l.jsx)("div",{className:"relative flex p-2 items-center justify-center w-full h-full bg-primary text-white font-bold rounded-md",children:(0,l.jsx)("img",{src:"/assets/diamond.svg",alt:"coins",className:"w-4/5 h-4/5 animate-fade-in"})})})},s)),(0,l.jsx)(o.A,{isOpen:N,closeModal:()=>y(!1),result:"lose",amount:100})]})}},3386:(e,t,s)=>{"use strict";s.d(t,{H:()=>l});let l=(0,s(8693).vt)(e=>({selectedGrid:{},numberOfSuccessfulClicks:0,setNumberOfSuccessfulClicks:t=>e({numberOfSuccessfulClicks:t}),setSelectedGrid:t=>e({selectedGrid:t}),handleSelectGrid:t=>{e(e=>{let s={...e.selectedGrid};return s[t]=!0,{selectedGrid:s}})},resetGrid:()=>e({selectedGrid:{},numberOfSuccessfulClicks:0})}))},6084:(e,t,s)=>{Promise.resolve().then(s.bind(s,8576)),Promise.resolve().then(s.bind(s,2748))},6280:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var l=s(5155),a=s(3550);let n=(0,s(9946).A)("Bomb",[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]]);var r=s(2115);function i(e){let{isOpen:t,closeModal:s,result:i,amount:d,multiplier:c}=e,o=(0,r.useRef)(null);if((0,r.useEffect)(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&s()};return t?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,s]),!t)return null;let u=null;switch(i){case"win":u=(0,l.jsxs)("div",{ref:o,className:"modal relative bg-[#1e2a30] p-6 border-4 border-success shadow-2xl rounded-xl transform transition-all duration-300 hover:scale-105 w-48",children:[(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsxs)("span",{className:"text-success text-3xl font-bold",children:[c,"x"]})}),(0,l.jsx)("div",{className:"h-0.5 w-24 bg-gray-500 mx-auto my-2"}),(0,l.jsx)("div",{className:"flex justify-center items-center gap-1",children:(0,l.jsxs)("span",{className:"text-success text-xl font-semibold flex flex-row gap-2",children:[(0,l.jsx)(a.A,{className:"w-6 h-6"})," ",null==d?void 0:d.toFixed(2)]})})]});break;case"lose":u=(0,l.jsx)("div",{ref:o,className:"modal relative bg-gradient-to-br from-red-900 to-black p-8 border-2 border-red-500 shadow-2xl rounded-2xl transform transition-all duration-300 hover:scale-105",children:(0,l.jsxs)("div",{className:"modal relative rounded-lg flex flex-col justify-center items-center space-y-4",children:[(0,l.jsx)("div",{className:"animate-bounce",children:(0,l.jsx)(n,{className:"w-12 h-12 text-red-400"})}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("span",{className:"text-red-300 text-sm uppercase tracking-wider font-medium",children:"You Lost!"})})]})});break;default:u=null}return(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-x-hidden overflow-y-auto outline-none focus:outline-none",children:(0,l.jsx)("div",{className:"relative w-auto max-w-lg mx-auto my-6",children:u})})}},6989:(e,t,s)=>{"use strict";s.d(t,{u:()=>n});var l=s(8693),a=s(6786);let n=(0,l.vt)()((0,a.Zr)((e,t)=>({profitAmount:0,multiplier:0,balance:1e3,setProfitAmount:t=>e({profitAmount:t}),setMultiplier:t=>e({multiplier:t}),setBalance:t=>e({balance:t<0?0:t}),clearCommonState:()=>{let s=t().balance;e({profitAmount:0,multiplier:0,balance:s<100?1e3:s})}}),{name:"config-storage"}))},8261:(e,t,s)=>{"use strict";s.d(t,{d:()=>a});let l=[],a=(e,t,s,a)=>{if("number"!=typeof s||isNaN(s))throw Error("Amount isn't a valid number");l.length>=5&&l.shift();let n={gameName:e,result:t,amount:Number(s.toFixed(2)),finalBalance:a};return l.push(n),n}},8576:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var l=s(5155),a=s(2115),n=s(2328),r=s(3386),i=s(6989),d=s(6280),c=s(8261),o=s(3550);function u(){let{numberOfMines:e,betAmount:t,setNumberOfMines:s,setBetAmount:u,handleSetupGame:m,gameStarted:x,setGameStarted:f,resetGame:h,clearConfigStore:b}=(0,n.J)(),{numberOfSuccessfulClicks:v,resetGrid:p}=(0,r.H)(),{multiplier:j,setMultiplier:g,setBalance:w,balance:N}=(0,i.u)(),[y,k]=(0,a.useState)(0),[S,M]=(0,a.useState)(null),[A,C]=(0,a.useState)(!1),[G,E]=(0,a.useState)("manual"),O=e=>{s(e)};return(0,a.useEffect)(()=>{if(v&&t&&e){let s=function(e,t){if(e<1||e>24||t<1||t>25-e)throw Error("Invalid number of selected tiles or mines");return Number((Math.pow(1.03+(1-(1-t/(25-e+1)))*1.2,e)*Math.pow(1+t/25,e)).toFixed(2))}(v,e);g(s),M(s*t)}},[t,e,v,g]),(0,l.jsxs)("div",{className:"flex flex-col gap-6 p-4 text-white max-w-md mx-auto rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,l.jsx)("span",{className:"text-[#b0b9d2]",children:"Bet Amount"}),(0,l.jsxs)("span",{className:"text-white",children:["$",N?N.toFixed(2):"0.00"]})]}),(0,l.jsxs)("div",{className:"flex bg-[#1e2a36] rounded-md overflow-hidden",children:[(0,l.jsxs)("div",{className:"flex-1 flex items-center relative",children:[(0,l.jsx)("input",{type:"number",id:"betAmount",value:null!==t?t:"",min:10,onChange:e=>{let t=e.target.value;u(""===t?null:Number(t))},className:"w-full bg-[#1e2a36] px-3 py-3 outline-none",disabled:x,onClick:e=>e.currentTarget.select()}),(0,l.jsx)("div",{className:"absolute right-3 pointer-events-none",children:(0,l.jsx)(o.A,{className:"w-4 h-4 text-success"})})]}),(0,l.jsx)("button",{className:"bg-[#1e2a36] px-6 border-l border-[#2c3a47] hover:bg-[#2c3a47] transition-colors",onClick:()=>t&&t>0&&u(t/2),disabled:x,children:"\xbd"}),(0,l.jsx)("button",{className:"bg-[#1e2a36] px-6 border-l border-[#2c3a47] hover:bg-[#2c3a47] transition-colors",onClick:()=>t&&t>0&&u(2*t),disabled:x,children:"2\xd7"})]}),t>N&&!x&&(0,l.jsx)("p",{className:"mt-1 text-sm font-medium text-red-500",children:"Insufficient balance!"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"flex justify-between mb-2",children:(0,l.jsx)("span",{className:"text-[#b0b9d2]",children:"Mines"})}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{value:e||"",onChange:e=>O(Number(e.target.value)),disabled:x,className:"w-full p-3 border border-[#2c3a47] bg-[#1e2a36] text-white rounded-md appearance-none focus:outline-none",children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Select number of mines"}),[1,3,5,10].map(e=>(0,l.jsxs)("option",{value:e,children:[e," ",1===e?"Mine":"Mines"]},e))]}),(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,l.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),(0,l.jsx)("button",{onClick:null===t||t<=0||e<=0||x||t>N?()=>{t>N&&alert("You don't have enough balance")}:()=>{if(null===t||t>N)return void alert("You don't have enough balance");m(),f(!0),k(0),M(t),w(N-t)},disabled:null===t||t<=0||e<=0||x||t>N,className:"w-full bg-[#4cd964] hover:bg-[#3cc153] disabled:bg-[#2c3a47] disabled:text-gray-400 text-black font-medium py-4 rounded-md transition-colors",children:"Bet"}),x&&(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("p",{className:"text-sm text-gray-400",children:t&&j>0&&"Current Profit: $".concat(null==S?void 0:S.toFixed(2))}),(0,l.jsx)("button",{onClick:()=>{f(!1),b(),h(),p(),C(!0);let e=N+S;w(e),(0,c.d)("Mines","Win",S,e)},className:"w-full p-3 mt-4 rounded-md bg-[#4cd964] text-black font-medium hover:bg-[#3cc153] transition-colors",children:"Cash-Out"})]}),(0,l.jsx)(d.A,{isOpen:A,closeModal:()=>C(!1),result:"win",amount:S,multiplier:j})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[421,441,303,358],()=>t(6084)),_N_E=e.O()}]);