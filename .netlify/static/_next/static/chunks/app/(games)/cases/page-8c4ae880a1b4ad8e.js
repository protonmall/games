(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{2668:(e,t,l)=>{Promise.resolve().then(l.bind(l,8543))},6989:(e,t,l)=>{"use strict";l.d(t,{u:()=>n});var a=l(8693),s=l(6786);let n=(0,a.vt)()((0,s.Zr)((e,t)=>({profitAmount:0,multiplier:0,balance:1e3,betAmount:0,selectedCount:0,setProfitAmount:t=>e({profitAmount:t}),setMultiplier:t=>e({multiplier:t}),setBalance:t=>e({balance:t<0?0:t}),setBetAmount:t=>e({betAmount:t}),setSelectedCount:t=>e({selectedCount:t}),get canPlay(){let{betAmount:e,selectedCount:l}=t();return e>0&&l>0},clearCommonState:()=>{let l=t().balance;e({profitAmount:0,multiplier:0,betAmount:0,selectedCount:0,balance:l<100?1e3:l})}}),{name:"config-storage"}))},8543:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>m});var a=l(5155),s=l(2115),n=l(8693),i=l(6989);let r={easy:[.1,.2,.5,1,2,5,10,23],medium:[0,.1,.5,1,2,5,15,50,115],hard:[0,.1,.5,1,2,5,20,100,1e3],expert:[0,.1,.5,1,2,5,50,500,1e4]},o=(0,n.vt)((e,t)=>({difficulty:"easy",isRolling:!1,multiplier:0,resultIndex:-1,autoPlay:!1,autoIntervalId:null,instantMode:!1,betAmount:1,history:[],setBetAmount:t=>e({betAmount:t}),setDifficulty:t=>e({difficulty:t}),setAutoPlay:l=>{l?e({autoPlay:!0,autoIntervalId:setInterval(()=>{t().isRolling||t().rollResult()},t().instantMode?100:2500)}):(clearInterval(t().autoIntervalId),e({autoPlay:!1,autoIntervalId:null}))},setInstantMode:t=>e({instantMode:t}),rollResult:()=>{let{difficulty:l,betAmount:a,instantMode:s}=t(),n=r[l],o=n.map(e=>1/(e+1)*100),c=Math.random()*o.reduce((e,t)=>e+t,0),d=0,u=0;for(let e=0;e<o.length;e++)if(c<=(d+=o[e])){u=e;break}let m=n[u],{balance:x,setBalance:p}=i.u.getState();x<a||(p(x-a),e({isRolling:!0,resultIndex:u,multiplier:m}),setTimeout(()=>{let t=a*m;i.u.getState().setBalance(x-a+t);let l={id:crypto.randomUUID(),bet:a,multiplier:m,payout:t,timestamp:Date.now()};e(e=>({isRolling:!1,history:[l,...e.history].slice(0,20)}))},2200*!s))}})),c=()=>{let{difficulty:e,resultIndex:t,isRolling:l}=o(),[n,i]=(0,s.useState)(!1),r=(0,s.useRef)(null),c={easy:[.1,.2,.5,1,2,5,10,23],medium:[0,.1,.5,1,2,5,15,50,115],hard:[0,.1,.5,1,2,5,20,100,1e3],expert:[0,.1,.5,1,2,5,50,500,1e4]}[e],d=[...c,...c,...c];return(0,s.useEffect)(()=>{if(l){var e;i(!1),null==(e=r.current)||e.offsetWidth,i(!0)}},[l]),(0,a.jsxs)("div",{className:"relative w-full max-w-2xl overflow-hidden h-20 mt-8 border border-gray-700 rounded-lg bg-neutral-900",children:[(0,a.jsx)("div",{className:"pointer top-0 bottom-0 m-auto"}),(0,a.jsx)("div",{ref:r,className:"flex w-max gap-2 px-4 py-4 ".concat(n?"animate-slide-reel":""),children:d.map((e,s)=>(0,a.jsxs)("div",{className:"min-w-[80px] h-12 flex items-center justify-center text-sm font-bold rounded ".concat(e>1?"bg-yellow-500 text-black animate-bounce":"bg-gray-800"," ").concat(t!==s%c.length||l?"":"animate-glow"),children:[e,"x"]},s))})]})},d=()=>{let e=o(e=>e.history);return(0,a.jsxs)("div",{className:"w-full max-w-xl text-sm text-gray-300 mt-6",children:[(0,a.jsx)("h2",{className:"font-semibold mb-2",children:"Transaction History"}),(0,a.jsxs)("div",{className:"border border-gray-700 rounded p-2 max-h-60 overflow-y-auto space-y-1",children:[0===e.length&&(0,a.jsx)("div",{className:"text-gray-500",children:"No transactions yet"}),e.map(e=>(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:new Date(e.timestamp).toLocaleTimeString()}),(0,a.jsxs)("span",{children:["Bet: ",e.bet.toFixed(2)]}),(0,a.jsxs)("span",{children:["Mult: ",e.multiplier,"x"]}),(0,a.jsxs)("span",{children:["Payout: ",e.payout.toFixed(2)]})]},e.id))]})]})},u=["easy","medium","hard","expert"],m=()=>{let{rollResult:e,isRolling:t,difficulty:l,setDifficulty:s,multiplier:n,autoPlay:r,setAutoPlay:m,instantMode:x,setInstantMode:p,betAmount:h,setBetAmount:b}=o(),g=(0,i.u)(e=>e.balance);return(0,a.jsxs)("div",{className:"flex flex-col items-center p-6 gap-6 text-white",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Cases"}),(0,a.jsx)("div",{className:"flex gap-3",children:u.map(e=>(0,a.jsx)("button",{onClick:()=>s(e),className:"px-4 py-2 rounded-md font-medium uppercase transition ".concat(l===e?"bg-blue-500 text-black shadow-md":"bg-gray-800 hover:bg-gray-700"),children:e},e))}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,a.jsx)("label",{className:"text-sm",children:"Bet Amount"}),(0,a.jsx)("input",{type:"number",min:.01,max:g,step:.01,value:h,onChange:e=>{let t=parseFloat(e.target.value);isNaN(t)||b(Number(t.toFixed(2)))},className:"px-3 py-1 rounded bg-gray-800 text-white w-28 text-center"})]}),(0,a.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:r,onChange:e=>m(e.target.checked)}),"Auto-Play"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:x,onChange:e=>p(e.target.checked)}),"Instant Mode"]})]}),(0,a.jsx)(c,{}),(0,a.jsx)("button",{disabled:t||h<=0||h>g,onClick:e,className:"px-6 py-2 bg-green-500 text-black rounded font-semibold disabled:opacity-50",children:t?"Rolling...":"Open Case"}),!t&&n>0&&(0,a.jsxs)("div",{className:"mt-4 text-xl text-green-400 glow-animation",children:["You won ",n,"x!"]}),!t&&0===n&&(0,a.jsx)("div",{className:"mt-4 text-xl text-red-400 bounce",children:"You lost! \uD83D\uDE22"}),(0,a.jsx)(d,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[798,441,303,358],()=>t(2668)),_N_E=e.O()}]);