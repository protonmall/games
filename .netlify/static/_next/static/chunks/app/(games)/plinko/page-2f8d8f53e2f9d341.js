(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{955:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var i=s(5155),a=function(e){return e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e}({});let n={8:{LOW:[5.6,2.1,1.1,1,.5,1,1.1,2.1,5.6],MEDIUM:[13,3,1.3,.7,.4,.7,1.3,3,13],HIGH:[29,4,1.5,.3,.2,.3,1.5,4,29]},9:{LOW:[5.6,2,1.6,1,.7,.7,1,1.6,2,5.6],MEDIUM:[18,4,1.7,.9,.5,.5,.9,1.7,4,18],HIGH:[43,7,2,.6,.2,.2,.6,2,7,43]},10:{LOW:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9],MEDIUM:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22],HIGH:[76,10,3,.9,.3,.2,.3,.9,3,10,76]},11:{LOW:[8.4,3,1.9,1.3,1,.7,.7,1,1.3,1.9,3,8.4],MEDIUM:[24,6,3,1.8,.7,.5,.5,.7,1.8,3,6,24],HIGH:[120,14,5.2,1.4,.4,.2,.2,.4,1.4,5.2,14,120]},12:{LOW:[10,3,1.6,1.4,1.1,1,.5,1,1.1,1.4,1.6,3,10],MEDIUM:[33,11,4,2,1.1,.6,.3,.6,1.1,2,4,11,33],HIGH:[170,24,8.1,2,.7,.2,.2,.2,.7,2,8.1,24,170]},13:{LOW:[8.1,4,3,1.9,1.2,.9,.7,.7,.9,1.2,1.9,3,4,8.1],MEDIUM:[43,13,6,3,1.3,.7,.4,.4,.7,1.3,3,6,13,43],HIGH:[260,37,11,4,1,.2,.2,.2,.2,1,4,11,37,260]},14:{LOW:[7.1,4,1.9,1.4,1.3,1.1,1,.5,1,1.1,1.3,1.4,1.9,4,7.1],MEDIUM:[58,15,7,4,1.9,1,.5,.2,.5,1,1.9,4,7,15,58],HIGH:[420,56,18,5,1.9,.3,.2,.2,.2,.3,1.9,5,18,56,420]},15:{LOW:[15,8,3,2,1.5,1.1,1,.7,.7,1,1.1,1.5,2,3,8,15],MEDIUM:[88,18,11,5,3,1.3,.5,.3,.3,.5,1.3,3,5,11,18,88],HIGH:[620,83,27,8,3,.5,.2,.2,.2,.2,.5,3,8,27,83,620]},16:{LOW:[16,9,2,1.4,1.4,1.2,1.1,1,.5,1,1.1,1.2,1.4,1.4,2,9,16],MEDIUM:[110,41,10,5,3,1.5,1,.5,.3,.5,1,1.5,3,5,10,41,110],HIGH:[1e3,130,26,9,4,2,.2,.2,.2,.2,.2,2,4,9,26,130,1e3]}};function l(e,t,s){return Array.from({length:s},(i,a)=>({r:Math.round(e.r+(t.r-e.r)/(s-1)*a),g:Math.round(e.g+(t.g-e.g)/(s-1)*a),b:Math.round(e.b+(t.b-e.b)/(s-1)*a)}))}let r=[8,9,10,11,12,13,14,15,16].reduce((e,t)=>(e[t]=function(e){{let t=e+1,s=t%2==0,i=Math.ceil(t/2),a=l({r:255,g:0,b:63},{r:255,g:192,b:0},i).map(e=>{let{r:t,g:s,b:i}=e;return"rgb(".concat(t,", ").concat(s,", ").concat(i,")")}),n=l({r:166,g:0,b:4},{r:171,g:121,b:0},i).map(e=>{let{r:t,g:s,b:i}=e;return"rgb(".concat(t,", ").concat(s,", ").concat(i,")")});return{background:[...a,...a.toReversed().slice(+!s)],shadow:[...n,...n.toReversed().slice(+!s)]}}}(t),e),{});function o(e){let{rowCount:t,riskLevel:s,binsWidth:a}=e,l=n[t][s],o=(null==r?void 0:r[t])||{background:[],shadow:[]};return(0,i.jsx)("div",{className:"flex w-full justify-center lg:h-7",children:(0,i.jsx)("div",{className:"flex gap-[1%]",style:{width:"".concat(100*a,"%")},children:l.map((e,t)=>(0,i.jsxs)("div",{className:"flex min-w-0 flex-1 items-center justify-center rounded-xs text-[clamp(6px,2.784px+0.87vw,8px)] font-bold text-gray-950 shadow-[0_2px_var(--shadow-color)] lg:rounded-md lg:text-[clamp(10px,-16.944px+2.632vw,12px)] lg:shadow-[0_3px_var(--shadow-color)]",style:{backgroundColor:o.background[t]},children:[e,e<100?"\xd7":""]},t))})})}var d=s(6989);let c=(0,s(8693).vt)(e=>({betAmount:0,rowCount:8,riskLevel:a.MEDIUM,balance:1e3,multiplier:1,gameHistory:[],setBetAmount:t=>e({betAmount:t}),setRowCount:t=>e({rowCount:t}),setRiskLevel:t=>e({riskLevel:t}),setMultiplier:t=>e({multiplier:t}),addGameResult:(t,s)=>{let i=t*s-t;e(e=>({gameHistory:[...e.gameHistory,{betAmount:t,multiplier:s,profit:i,timestamp:Date.now()}],balance:e.balance+i}))},updateBalance:t=>e(e=>({balance:e.balance+t}))}));var h=s(2115),u=s(3340),m=s(6474),p=s(7863),x=s(5196),f=s(3999);let w=u.bL,g=u.YJ,v=u.WT,b=h.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,i.jsxs)(u.l9,{ref:t,className:(0,f.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[a,(0,i.jsx)(u.In,{asChild:!0,children:(0,i.jsx)(m.A,{className:"h-4 w-4 opacity-50"})})]})});b.displayName=u.l9.displayName;let j=h.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(u.PP,{ref:t,className:(0,f.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,i.jsx)(p.A,{className:"h-4 w-4"})})});j.displayName=u.PP.displayName;let N=h.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(u.wn,{ref:t,className:(0,f.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,i.jsx)(m.A,{className:"h-4 w-4"})})});N.displayName=u.wn.displayName;let C=h.forwardRef((e,t)=>{let{className:s,children:a,position:n="popper",...l}=e;return(0,i.jsx)(u.ZL,{children:(0,i.jsxs)(u.UC,{ref:t,className:(0,f.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...l,children:[(0,i.jsx)(j,{}),(0,i.jsx)(u.LM,{className:(0,f.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,i.jsx)(N,{})]})})});C.displayName=u.UC.displayName;let y=h.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(u.JU,{ref:t,className:(0,f.cn)("px-2 py-1.5 text-sm font-semibold",s),...a})});y.displayName=u.JU.displayName;let L=h.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,i.jsxs)(u.q7,{ref:t,className:(0,f.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,i.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(u.VF,{children:(0,i.jsx)(x.A,{className:"h-4 w-4"})})}),(0,i.jsx)(u.p4,{children:a})]})});L.displayName=u.q7.displayName,h.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(u.wv,{ref:t,className:(0,f.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=u.wv.displayName;var R=s(3550);let M=function(e){let{dropBall:t}=e,[s,a]=h.useState(""),[n,l]=h.useState(""),{balance:r,setBalance:o}=(0,d.u)(),{riskLevel:u,setRiskLevel:m,rowCount:p,setRowCount:x,multiplier:f,setBetAmount:j,betAmount:N}=c(),M=e=>{a(e);let t=parseFloat(e);isNaN(t)?j(0):(j(t),t>r?l("Bet amount cannot exceed your balance"):l(""))};return(0,i.jsxs)("div",{className:"flex flex-col gap-6 p-4  text-white max-w-md mx-auto rounded-lg",children:[(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,i.jsx)("span",{className:"text-[#b0b9d2]",children:"Bet Amount"}),(0,i.jsxs)("span",{className:"text-white",children:["$",r?r.toFixed(2):"0.00"]})]})}),(0,i.jsxs)("div",{className:"flex bg-[#1e2a36] rounded-md overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex-1 flex items-center relative",children:[(0,i.jsx)("input",{type:"number",id:"betAmount",value:s,min:.01,step:.01,onChange:e=>M(e.target.value),className:"w-full bg-[#1e2a36] px-3 py-3 outline-none text-white",onClick:e=>e.currentTarget.select()}),(0,i.jsx)("div",{className:"absolute right-3 pointer-events-none",children:(0,i.jsx)(R.A,{className:"w-4 h-4 text-success"})})]}),(0,i.jsx)("button",{className:"bg-[#1e2a36] px-6 border-l border-[#2c3a47] hover:bg-[#2c3a47] transition-colors text-white",onClick:()=>{if(N>0){let e=(N/2).toFixed(2);a(e),j(parseFloat(e))}},disabled:!N||N<=0,children:"\xbd"}),(0,i.jsx)("button",{className:"bg-[#1e2a36] px-6 border-l border-[#2c3a47] hover:bg-[#2c3a47] transition-colors text-white",onClick:()=>{if(N>0){let e=(2*N).toFixed(2);parseFloat(e)<=r?(a(e),j(parseFloat(e)),l("")):l("Bet amount cannot exceed your balance")}},disabled:!N||N<=0||2*N>r,children:"2\xd7"})]}),n&&(0,i.jsx)("p",{className:"text-red-500 text-sm",children:n}),(0,i.jsx)("div",{className:"flex bg-[#1e2a36] rounded-md overflow-hidden",children:(0,i.jsx)("div",{className:"flex-1 flex items-center relative",children:(0,i.jsxs)(w,{value:u,onValueChange:e=>m(e),children:[(0,i.jsx)(b,{children:(0,i.jsx)(v,{placeholder:"Select a fruit"})}),(0,i.jsx)(C,{children:(0,i.jsxs)(g,{children:[(0,i.jsx)(y,{children:"Risk Level"}),(0,i.jsx)(L,{value:"LOW",children:"Low"}),(0,i.jsx)(L,{value:"MEDIUM",children:"Medium"}),(0,i.jsx)(L,{value:"HIGH",children:"High"})]})})]})})}),(0,i.jsx)("div",{className:"flex bg-[#1e2a36] rounded-md overflow-hidden",children:(0,i.jsx)("div",{className:"flex-1 flex items-center relative",children:(0,i.jsxs)(w,{value:p.toString(),onValueChange:e=>x(parseInt(e)),children:[(0,i.jsx)(b,{children:(0,i.jsx)(v,{placeholder:"Select a row count"})}),(0,i.jsx)(C,{children:(0,i.jsxs)(g,{children:[(0,i.jsx)(y,{children:"Row Count"}),(0,i.jsx)(L,{value:"8",children:"8"}),(0,i.jsx)(L,{value:"9",children:"9"}),(0,i.jsx)(L,{value:"10",children:"10"}),(0,i.jsx)(L,{value:"11",children:"11"}),(0,i.jsx)(L,{value:"12",children:"12"}),(0,i.jsx)(L,{value:"13",children:"13"}),(0,i.jsx)(L,{value:"14",children:"14"}),(0,i.jsx)(L,{value:"15",children:"15"}),(0,i.jsx)(L,{value:"16",children:"16"})]})})]})})}),(0,i.jsx)("button",{onClick:()=>{o(r-N),t()},className:"w-full py-3 rounded-md bg-success text-black hover:bg-green-700 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors font-medium",disabled:!N||N<=0||N>r,children:"Bet"})]})};var A=s(2951),I=s.n(A);class H{start(){I().Render.run(this.render),I().Runner.run(this.runner,this.engine)}stop(){I().Render.stop(this.render),I().Runner.stop(this.runner)}dropBall(){var e;let t=.8*this.pinDistanceX,s=2*this.pinRadius,{friction:i,frictionAirByRowCount:a}=H.ballFrictions,n=I().Bodies.circle((e=this.canvas.width/2-t)+Math.random()*(this.canvas.width/2+t-e),0,s,{restitution:.8,friction:i,frictionAir:a[this.rowCount],collisionFilter:{category:H.BALL_CATEGORY,mask:H.PIN_CATEGORY},render:{fillStyle:"#ff0000"}});I().Composite.add(this.engine.world,n)}get binsWidthPercentage(){return(this.pinsLastRowXCoords[this.pinsLastRowXCoords.length-1]-this.pinsLastRowXCoords[0])/H.WIDTH}get pinDistanceX(){let e=3+this.rowCount-1;return(this.canvas.width-2*H.PADDING_X)/(e-1)}get pinRadius(){return(24-this.rowCount)/2}get rowCountOfEngine(){return this.rowCount}updateRowCount(e){e!==this.rowCount&&(this.removeAllBalls(),this.rowCount=e,this.placePinsAndWalls())}handleBallEnterBin(e){let t=this.pinsLastRowXCoords.findLastIndex(t=>t<e.position.x);if(-1!==t&&t<this.pinsLastRowXCoords.length-1){let e=n[this.rowCount][this.riskLevel][t];this.store.setMultiplier(e);let s=this.commonStore.balance-this.betAmount;console.log("newBalance",s,this.betAmount,e),this.commonStore.setBalance(s+this.betAmount*e)}I().Composite.remove(this.engine.world,e)}placePinsAndWalls(){let{PADDING_X:e,PADDING_TOP:t,PADDING_BOTTOM:s,PIN_CATEGORY:i,BALL_CATEGORY:a}=H;this.pins.length>0&&(I().Composite.remove(this.engine.world,this.pins),this.pins=[]),this.pinsLastRowXCoords.length>0&&(this.pinsLastRowXCoords=[]),this.walls.length>0&&(I().Composite.remove(this.engine.world,this.walls),this.walls=[]);for(let n=0;n<this.rowCount;++n){let l=t+(this.canvas.height-t-s)/(this.rowCount-1)*n,r=e+(this.rowCount-1-n)*this.pinDistanceX/2;for(let e=0;e<3+n;++e){let t=r+(this.canvas.width-2*r)/(3+n-1)*e,s=I().Bodies.circle(t,l,this.pinRadius,{isStatic:!0,render:{fillStyle:"#ffffff"},collisionFilter:{category:i,mask:a}});this.pins.push(s),n===this.rowCount-1&&this.pinsLastRowXCoords.push(t)}}I().Composite.add(this.engine.world,this.pins);let n=this.pins[0].position.x,l=Math.atan2(n-this.pinsLastRowXCoords[0],this.canvas.height-t-s),r=n-(n-this.pinsLastRowXCoords[0])/2-.25*this.pinDistanceX,o=I().Bodies.rectangle(r,this.canvas.height/2,10,this.canvas.height,{isStatic:!0,angle:l,render:{visible:!1}}),d=I().Bodies.rectangle(this.canvas.width-r,this.canvas.height/2,10,this.canvas.height,{isStatic:!0,angle:-l,render:{visible:!1}});this.walls.push(o,d),I().Composite.add(this.engine.world,this.walls)}removeAllBalls(){I().Composite.allBodies(this.engine.world).forEach(e=>{e.collisionFilter.category===H.BALL_CATEGORY&&I().Composite.remove(this.engine.world,e)})}getMultipliers(){return n[this.rowCount][this.riskLevel]}constructor(e){this.pins=[],this.walls=[],this.pinsLastRowXCoords=[],this.store=c.getState(),this.commonStore=d.u.getState(),this.canvas=e,this.betAmount=this.store.betAmount,this.rowCount=this.store.rowCount,this.riskLevel=this.store.riskLevel,this.balance=this.commonStore.balance,c.subscribe(e=>{this.betAmount=e.betAmount,e.rowCount!==this.rowCount&&this.updateRowCount(e.rowCount),this.riskLevel=e.riskLevel,this.balance=this.commonStore.balance}),this.engine=I().Engine.create({timing:{timeScale:1}}),this.render=I().Render.create({engine:this.engine,canvas:this.canvas,options:{width:H.WIDTH,height:H.HEIGHT,background:"#0f1923",wireframes:!1}}),this.runner=I().Runner.create(),this.placePinsAndWalls(),this.sensor=I().Bodies.rectangle(this.canvas.width/2,this.canvas.height,this.canvas.width,10,{isSensor:!0,isStatic:!0,render:{visible:!1}}),I().Composite.add(this.engine.world,[this.sensor]),I().Events.on(this.engine,"collisionStart",e=>{let{pairs:t}=e;t.forEach(e=>{let{bodyA:t,bodyB:s}=e;t===this.sensor?this.handleBallEnterBin(s):s===this.sensor&&this.handleBallEnterBin(t)})})}}H.WIDTH=760,H.HEIGHT=570,H.multiplier=1,H.PADDING_X=52,H.PADDING_TOP=36,H.PADDING_BOTTOM=28,H.PIN_CATEGORY=1,H.BALL_CATEGORY=2,H.ballFrictions={friction:.5,frictionAirByRowCount:{8:.0395,9:.041,10:.038,11:.0355,12:.0414,13:.0437,14:.0401,15:.0418,16:.0364}};let{WIDTH:E,HEIGHT:B}=H;function k(){let e=(0,h.useRef)(null),[t,s]=(0,h.useState)(!0),[a,n]=(0,h.useState)(),{rowCount:l,riskLevel:r,multiplier:d}=c();return(0,h.useEffect)(()=>{if(e.current){let t=new H(e.current);return n(t),t.start(),()=>{null==t||t.stop()}}},[n,l,r]),(0,i.jsx)("main",{className:"flex flex-col h-full",children:(0,i.jsx)("div",{className:"flex flex-col lg:flex-row w-full p-4 lg:p-8 flex-1",children:(0,i.jsx)("div",{className:"flex justify-center items-center w-full p-4",children:(0,i.jsxs)("div",{className:"flex flex-col md:flex-row bg-background gap-4 md:gap-8 p-4 w-full max-w-6xl mx-auto",children:[(0,i.jsx)("div",{className:"w-full md:w-1/3 bg-primary",children:(0,i.jsx)(M,{dropBall:()=>{a&&a.dropBall()}})}),(0,i.jsx)("div",{className:"relative bg-background",children:(0,i.jsxs)("div",{className:"mx-auto flex h-full flex-col px-4 pb-4",style:{maxWidth:"".concat(E,"px")},children:[(0,i.jsx)("div",{className:"relative w-full",style:{aspectRatio:"".concat(E," / ").concat(B)},children:(0,i.jsx)("canvas",{ref:e,width:E,height:B,className:"h-full w-full"})}),a&&(0,i.jsx)(o,{rowCount:l,riskLevel:r,binsWidth:a.binsWidthPercentage})]})})]})})})})}},2486:(e,t,s)=>{Promise.resolve().then(s.bind(s,955))},3999:(e,t,s)=>{"use strict";s.d(t,{Q:()=>l,cn:()=>n});var i=s(2596),a=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,i.$)(t))}function l(){return .95>=Math.random()?2*Math.random()+1:Math.floor(98*Math.random())+2}},6989:(e,t,s)=>{"use strict";s.d(t,{u:()=>n});var i=s(8693),a=s(6786);let n=(0,i.vt)()((0,a.Zr)((e,t)=>({profitAmount:0,multiplier:0,balance:1e3,setProfitAmount:t=>e({profitAmount:t}),setMultiplier:t=>e({multiplier:t}),setBalance:t=>e({balance:t<0?0:t}),clearCommonState:()=>{let s=t().balance;e({profitAmount:0,multiplier:0,balance:s<100?1e3:s})}}),{name:"config-storage"}))}},e=>{var t=t=>e(e.s=t);e.O(0,[26,421,277,548,441,303,358],()=>t(2486)),_N_E=e.O()}]);